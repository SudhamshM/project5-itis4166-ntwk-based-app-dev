<%- include('../partials/header.ejs') %>
<h3 class="text-center">Edit A <u> Movie Meetup </u></h3>
        <!-- used bootstrap form model -->
        <div class="container w-75 p-3">
            <form action="/events/<%= event.id %>?_method=PUT" method="post" enctype="multipart/form-data">
                <div class="form-group row m-2">
                    <label for="category" class="col-sm-2 col-form-label">Category</label>
                    <div class="col-sm-10">
                        <select class="form-select" id="category" name="category" required>
                            <option disabled value="Other">Old Genre = <%= event.category %></option>
                            <option value="Action"  <%= event.category == 'Action' ? 'disabled' : '' %>>Action</option>
                            <option value="Romance" <%= event.category == 'Romance' ? 'disabled' : '' %>>Romance</option>
                            <option value="Comedy" <%= event.category == 'Comedy' ? 'disabled' : '' %>>Comedy</option>
                            <option value="Horror" <%= event.category == 'Horror' ? 'disabled' : '' %>>Horror</option>
                            <option value="Other" <%= event.category == 'Other' ? 'disabled' : '' %>>Other</option>
                        </select>
                    </div>
                </div>
                <div class="form-group row m-2">
                    <label for="movieEventTitle" class="col-sm-2 col-form-label">Title</label>
                    <div class="col-sm-10">
                        <input type="text" name="title" autocomplete="off" class="form-control" value="<%= event.title %>" id="movieEventTitle" placeholder="Enter title here"
                            required>
                    </div>
                </div>
                <div class="form-group row m-2">
                    <label for="movieEventDescription" class="col-sm-2 col-form-label">Description</label>
                    <div class="col-sm-10">
                        <textarea class="form-control" name="details" id="movieEventDescription" placeholder="Enter description here"
                            required><%= event.details %></textarea>
                    </div>
                </div>
                <div class="form-group row m-2">
                    <label for="movieEventLocation" class="col-sm-2 col-form-label">Where</label>
                    <div class="col-sm-10">
                        <input type="text" name="location" autocomplete="off" value="<%= event.location %>" class="form-control" id="movieEventLocation"
                            placeholder="Enter location here" required>
                    </div>
                </div>
                <div class="form-group row m-2">
                    <label for="movieEventStart" class="col-sm-2 col-form-label">Start</label>
                    <div class="col-sm-10">
                        <input type="datetime-local" name="startTime" class="form-control" id="movieEventStart" value="<%= new Date(event.startTime + ' GMT').toISOString().replace('Z', '') %>" required>
                    </div>
                </div>
                <div class="form-group row m-2">
                    <label for="movieEventEnd" class="col-sm-2 col-form-label">End</label>
                    <div class="col-sm-10">
                        <input type="datetime-local" name="endTime" class="form-control" id="movieEventEnd" value="<%= new Date(event.endTime + ' GMT').toISOString().replace('Z', '') %>" required>
                    </div>
                </div>
                <div class="form-group row m-2">
                    <label for="image" class="form-label col-sm-2">Image</label>
                    <div class="col-sm-10">
                    <input class="form-control" name="image" type="file" id="image" required>
                </div>
                </div>
                <div class="form-group row justify-content-end">
                    <div class="col-sm-10">
                        <button type="submit" class="w-100 btn btn-primary">Edit Event</button>
                    </div>
                </div>
            </form>
        </div>
<%- include('../partials/footer.ejs') %>